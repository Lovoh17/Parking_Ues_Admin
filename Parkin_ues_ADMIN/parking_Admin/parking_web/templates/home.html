{% extends 'base.html' %}

{% block content %}
<div class="container-fluid">
    <!-- Header del Dashboard -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1 class="display-6 fw-bold text-primary-custom mb-2">
                        <i class="fas fa-tachometer-alt me-3"></i>Dashboard de Parqueo
                    </h1>
                    <p class="text-muted mb-0">Panel de control y monitoreo en tiempo real</p>
                </div>
                <div class="d-flex gap-2">
                    <button class="btn btn-outline-primary" id="refreshData">
                        <i class="fas fa-sync-alt me-2"></i>Actualizar
                    </button>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="fas fa-calendar me-2"></i>Hoy
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Hoy</a></li>
                            <li><a class="dropdown-item" href="#">Esta semana</a></li>
                            <li><a class="dropdown-item" href="#">Este mes</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Fila 1: Tarjetas de resumen mejoradas -->
    <div class="row g-4 mb-4">
        <div class="col-xl-3 col-md-6">
            <div class="card h-100 gradient-card-success">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <div class="text-success-emphasis mb-2">
                                <i class="fas fa-dollar-sign fs-3"></i>
                            </div>
                            <h6 class="card-subtitle mb-2 text-success-emphasis fw-semibold">Ingresos Hoy</h6>
                            <h3 class="card-title mb-0 fw-bold text-success">${{ ingresos_hoy|default:"0.00" }}</h3>
                        </div>
                        <div class="progress-circle" data-percentage="75">
                            <svg class="progress-ring" width="60" height="60">
                                <circle class="progress-ring-circle" stroke="#388E3C" stroke-width="4" fill="transparent" r="26" cx="30" cy="30"/>
                            </svg>
                        </div>
                    </div>
                    <div class="mt-3">
                        <small class="text-success">
                            <i class="fas fa-arrow-up me-1"></i>+12% vs ayer
                        </small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-xl-3 col-md-6">
            <div class="card h-100 gradient-card-info">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <div class="text-info-emphasis mb-2">
                                <i class="fas fa-car fs-3"></i>
                            </div>
                            <h6 class="card-subtitle mb-2 text-info-emphasis fw-semibold">Vehículos Actuales</h6>
                            <h3 class="card-title mb-0 fw-bold text-info">{{ vehiculos_actuales|default:"0" }}</h3>
                        </div>
                        <div class="metric-badge bg-info-subtle text-info">
                            <i class="fas fa-car-side"></i>
                        </div>
                    </div>
                    <div class="mt-3">
                        <small class="text-info">
                            <i class="fas fa-clock me-1"></i>Tiempo promedio: 2.5h
                        </small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-xl-3 col-md-6">
            <div class="card h-100 gradient-card-warning">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <div class="text-warning-emphasis mb-2">
                                <i class="fas fa-parking fs-3"></i>
                            </div>
                            <h6 class="card-subtitle mb-2 text-warning-emphasis fw-semibold">Espacios Disponibles</h6>
                            <h3 class="card-title mb-0 fw-bold text-warning">{{ espacios_disponibles|default:"0" }}/{{ capacidad_total|default:"0" }}</h3>
                        </div>
                        <div class="occupancy-chart" data-occupied="{{ vehiculos_actuales|default:0 }}" data-total="{{ capacidad_total|default:100 }}">
                            <div class="occupancy-fill"></div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <div class="progress" style="height: 4px;">
                            <div class="progress-bar bg-warning" role="progressbar" style="width: {{ ocupacion_porcentaje|default:0 }}%"></div>
                        </div>
                        <small class="text-warning">
                            {{ ocupacion_porcentaje|default:0 }}% ocupado
                        </small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-xl-3 col-md-6">
            <div class="card h-100 gradient-card-primary">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <div class="text-primary-emphasis mb-2">
                                <i class="fas fa-chart-line fs-3"></i>
                            </div>
                            <h6 class="card-subtitle mb-2 text-primary-emphasis fw-semibold">Ingresos Mensuales</h6>
                            <h3 class="card-title mb-0 fw-bold text-primary">${{ ingresos_mes|default:"0.00" }}</h3>
                        </div>
                        <div class="mini-chart">
                            <canvas id="miniChart" width="60" height="40"></canvas>
                        </div>
                    </div>
                    <div class="mt-3">
                        <small class="text-primary">
                            <i class="fas fa-calendar me-1"></i>Meta: $5,000
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fila 2: Gráficos principales mejorados -->
    <div class="row g-4 mb-4">
        <!-- Gráfico de flujo de dinero -->
        <div class="col-xl-8">
            <div class="card h-100">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title mb-1">
                            <i class="fas fa-chart-area me-2 text-primary"></i>
                            Flujo Financiero
                        </h5>
                        <small class="text-muted">Entradas y salidas de los últimos 7 días</small>
                    </div>
                    <div class="btn-group btn-group-sm" role="group">
                        <input type="radio" class="btn-check" name="chartPeriod" id="week" checked>
                        <label class="btn btn-outline-primary" for="week">7D</label>
                        <input type="radio" class="btn-check" name="chartPeriod" id="month">
                        <label class="btn btn-outline-primary" for="month">30D</label>
                    </div>
                </div>
                <div class="card-body">
                    <canvas id="moneyFlowChart" height="80"></canvas>
                </div>
            </div>
        </div>
        
        <!-- Gráfico de entradas por sección -->
        <div class="col-xl-4">
            <div class="card h-100">
                <div class="card-header">
                    <h5 class="card-title mb-1">
                        <i class="fas fa-chart-pie me-2 text-primary"></i>
                        Distribución por Tipo
                    </h5>
                    <small class="text-muted">Uso de espacios por categoría</small>
                </div>
                <div class="card-body d-flex flex-column">
                    <div class="flex-grow-1">
                        <canvas id="parkingTypeChart" height="120"></canvas>
                    </div>
                    <div class="mt-3">
                        <div class="row text-center">
                            <div class="col-4">
                                <div class="text-primary fw-bold">45%</div>
                                <small class="text-muted">Público</small>
                            </div>
                            <div class="col-4">
                                <div class="text-warning fw-bold">30%</div>
                                <small class="text-muted">Privado</small>
                            </div>
                            <div class="col-4">
                                <div class="text-info fw-bold">25%</div>
                                <small class="text-muted">Reservado</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fila 3: Estado de parqueos mejorado -->
    <div class="row g-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <div>
                        <h5 class="card-title mb-1">
                            <i class="fas fa-car me-2 text-primary"></i>
                            Mapa de Espacios de Parqueo
                        </h5>
                        <small class="text-muted">Estado en tiempo real de todos los espacios</small>
                    </div>
                    <div class="d-flex gap-3">
                        <div class="legend-item">
                            <span class="legend-color available"></span>
                            <small>Disponible</small>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color occupied"></span>
                            <small>Ocupado</small>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color private"></span>
                            <small>Privado</small>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color reserved"></span>
                            <small>Reservado</small>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="parking-grid">
                        {% for espacio in espacios %}
                        <div class="parking-space 
                            {% if espacio.disponible %}available{% else %}occupied{% endif %}
                            {% if espacio.tipo == 'privado' %}private{% endif %}
                            {% if espacio.tipo == 'reservado' %}reserved{% endif %}"
                            data-bs-toggle="tooltip" 
                            data-bs-placement="top" 
                            title="{% if espacio.disponible %}Espacio disponible{% else %}Ocupado por {{ espacio.placa|default:'Vehículo' }}{% endif %}">
                            
                            <div class="space-number">{{ espacio.numero }}</div>
                            
                            {% if not espacio.disponible %}
                            <div class="vehicle-info">
                                <i class="fas fa-car"></i>
                                <div class="vehicle-plate">{{ espacio.placa|default:"N/A" }}</div>
                                {% if espacio.tiempo_ocupado %}
                                <div class="time-occupied">{{ espacio.tiempo_ocupado }}</div>
                                {% endif %}
                            </div>
                            {% else %}
                            <div class="available-icon">
                                <i class="fas fa-parking"></i>
                            </div>
                            {% endif %}
                            
                            {% if espacio.tipo == 'privado' %}
                            <div class="space-type-indicator">
                                <i class="fas fa-lock"></i>
                            </div>
                            {% elif espacio.tipo == 'reservado' %}
                            <div class="space-type-indicator">
                                <i class="fas fa-star"></i>
                            </div>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Fila 4: Actividad reciente -->
    <div class="row g-4 mt-4">
        <div class="col-xl-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-1">
                        <i class="fas fa-history me-2 text-primary"></i>
                        Actividad Reciente
                    </h5>
                    <small class="text-muted">Últimos movimientos registrados</small>
                </div>
                <div class="card-body">
                    <div class="activity-timeline">
                        <div class="activity-item">
                            <div class="activity-icon bg-success">
                                <i class="fas fa-sign-in-alt"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-header">
                                    <span class="fw-semibold">Entrada registrada</span>
                                    <small class="text-muted">Hace 5 min</small>
                                </div>
                                <div class="activity-body">
                                    Vehículo ABC-123 ingresó al espacio P-15
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon bg-danger">
                                <i class="fas fa-sign-out-alt"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-header">
                                    <span class="fw-semibold">Salida registrada</span>
                                    <small class="text-muted">Hace 12 min</small>
                                </div>
                                <div class="activity-body">
                                    Vehículo XYZ-789 salió del espacio P-08 - Duración: 2h 30min
                                </div>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon bg-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-header">
                                    <span class="fw-semibold">Tiempo excedido</span>
                                    <small class="text-muted">Hace 18 min</small>
                                </div>
                                <div class="activity-body">
                                    Vehículo DEF-456 en espacio P-22 excedió tiempo límite
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-xl-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-1">
                        <i class="fas fa-bell me-2 text-primary"></i>
                        Alertas y Notificaciones
                    </h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-warning d-flex align-items-center" role="alert">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <div>
                            <strong>Capacidad alta</strong><br>
                            <small>85% de espacios ocupados</small>
                        </div>
                    </div>
                    
                    <div class="alert alert-info d-flex align-items-center" role="alert">
                        <i class="fas fa-clock me-2"></i>
                        <div>
                            <strong>Mantenimiento programado</strong><br>
                            <small>Sector A - Mañana 9:00 AM</small>
                        </div>
                    </div>
                    
                    <div class="notification-item">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <div class="fw-semibold">Sistema funcionando</div>
                                <small class="text-success">Todos los sensores operativos</small>
                            </div>
                            <i class="fas fa-check-circle text-success"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Incluir Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
// Configuración de colores UES
const uesColors = {
    primary: '#800000',
    secondary: '#6D2323',
    accent: '#03DAC6',
    rojoBrillante: '#BF3131',
    rojoSuave: '#E55050',
    beigeDorado: '#EAD196',
    azulNoche: '#2B2A4C',
    verde: '#388E3C',
    amarillo: '#FFC107',
    rojo: '#D32F2F'
};

// Gráfico de flujo de dinero mejorado
const moneyCtx = document.getElementById('moneyFlowChart').getContext('2d');
const gradient1 = moneyCtx.createLinearGradient(0, 0, 0, 400);
gradient1.addColorStop(0, 'rgba(56, 142, 60, 0.3)');
gradient1.addColorStop(1, 'rgba(56, 142, 60, 0.05)');

const gradient2 = moneyCtx.createLinearGradient(0, 0, 0, 400);
gradient2.addColorStop(0, 'rgba(211, 47, 47, 0.3)');
gradient2.addColorStop(1, 'rgba(211, 47, 47, 0.05)');

const moneyFlowChart = new Chart(moneyCtx, {
    type: 'line',
    data: {
        labels: {{ dias_semana|safe }},
        datasets: [
            {
                label: 'Ingresos',
                data: {{ ingresos_semana|safe }},
                backgroundColor: gradient1,
                borderColor: uesColors.verde,
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointBackgroundColor: uesColors.verde,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            },
            {
                label: 'Gastos',
                data: {{ gastos_semana|safe }},
                backgroundColor: gradient2,
                borderColor: uesColors.rojo,
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointBackgroundColor: uesColors.rojo,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            }
        ]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: {
            intersect: false,
            mode: 'index'
        },
        plugins: {
            legend: {
                position: 'top',
                labels: {
                    usePointStyle: true,
                    padding: 20,
                    font: {
                        size: 12,
                        weight: '500'
                    }
                }
            },
            tooltip: {
                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                titleColor: '#fff',
                bodyColor: '#fff',
                borderColor: uesColors.accent,
                borderWidth: 1,
                cornerRadius: 8,
                callbacks: {
                    label: function(context) {
                        return context.dataset.label + ':  + context.raw.toFixed(2);
                    }
                }
            }
        },
        scales: {
            x: {
                grid: {
                    display: false
                },
                ticks: {
                    font: {
                        size: 11
                    }
                }
            },
            y: {
                beginAtZero: true,
                grid: {
                    color: 'rgba(0, 0, 0, 0.05)'
                },
                ticks: {
                    callback: function(value) {
                        return ' + value;
                    },
                    font: {
                        size: 11
                    }
                }
            }
        }
    }
});

// Gráfico de entradas por tipo mejorado
const typeCtx = document.getElementById('parkingTypeChart').getContext('2d');
const parkingTypeChart = new Chart(typeCtx, {
    type: 'doughnut',
    data: {
        labels: ['Público', 'Privado', 'Reservado'],
        datasets: [{
            data: {{ entradas_por_tipo|safe }},
            backgroundColor: [
                uesColors.accent,
                uesColors.primary,
                uesColors.amarillo
            ],
            borderWidth: 0,
            hoverOffset: 8
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        cutout: '60%',
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                titleColor: '#fff',
                bodyColor: '#fff',
                borderColor: uesColors.accent,
                borderWidth: 1,
                cornerRadius: 8,
                callbacks: {
                    label: function(context) {
                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                        const value = context.raw;
                        const percentage = Math.round((value / total) * 100);
                        return `${context.label}: ${value} (${percentage}%)`;
                    }
                }
            }
        }
    }
});

// Mini gráfico para ingresos mensuales
const miniCtx = document.getElementById('miniChart').getContext('2d');
const miniChart = new Chart(miniCtx, {
    type: 'line',
    data: {
        labels: ['', '', '', '', '', '', ''],
        datasets: [{
            data: [12, 19, 8, 15, 22, 18, 25],
            borderColor: uesColors.primary,
            borderWidth: 2,
            tension: 0.4,
            pointRadius: 0,
            fill: false
        }]
    },
    options: {
        responsive: false,
        plugins: {
            legend: { display: false }
        },
        scales: {
            x: { display: false },
            y: { display: false }
        }
    }
});

// Inicializar tooltips
document.addEventListener('DOMContentLoaded', function() {
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
    
    // Botón de actualizar con animación
    document.getElementById('refreshData').addEventListener('click', function() {
        this.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Actualizando...';
        setTimeout(() => {
            this.innerHTML = '<i class="fas fa-sync-alt me-2"></i>Actualizar';
            // Aquí iría la lógica de actualización real
        }, 2000);
    });
});
</script>

<style>
/* Estilos adicionales para el dashboard mejorado */
.gradient-card-success {
    background: linear-gradient(135deg, rgba(56, 142, 60, 0.1), rgba(76, 175, 80, 0.05));
    border-left: 4px solid var(--verde);
}

.gradient-card-info {
    background: linear-gradient(135deg, rgba(3, 218, 198, 0.1), rgba(3, 218, 198, 0.05));
    border-left: 4px solid var(--accent-color);
}

.gradient-card-warning {
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 193, 7, 0.05));
    border-left: 4px solid var(--amarillo);
}

.gradient-card-primary {
    background: linear-gradient(135deg, rgba(128, 0, 0, 0.1), rgba(109, 35, 35, 0.05));
    border-left: 4px solid var(--primary-color);
}

.metric-badge {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

.progress-circle {
    position: relative;
    width: 60px;
    height: 60px;
}

.progress-ring-circle {
    transition: stroke-dasharray 0.35s;
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
    stroke-dasharray: 0 164;
}

.occupancy-chart {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: rgba(255, 193, 7, 0.2);
    position: relative;
    overflow: hidden;
}

.occupancy-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(0deg, #FFC107, #FFD54F);
    height: 65%;
    transition: height 0.3s ease;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
}

.legend-color.available {
    background: linear-gradient(135deg, #4CAF50, #66BB6A);
}

.legend-color.occupied {
    background: linear-gradient(135deg, #F44336, #EF5350);
}

.legend-color.private {
    background: linear-gradient(135deg, #800000, #BF3131);
}

.legend-color.reserved {
    background: linear-gradient(135deg, #FF9800, #FFB74D);
}

.parking-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 16px;
    padding: 20px;
}

.parking-space {
    position: relative;
    height: 80px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    overflow: hidden;
}

.parking-space:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.parking-space.available {
    background: linear-gradient(135deg, #E8F5E8, #F1F8E9);
    border: 2px solid #4CAF50;
    color: #2E7D32;
}

.parking-space.occupied {
    background: linear-gradient(135deg, #FFEBEE, #FFCDD2);
    border: 2px solid #F44336;
    color: #C62828;
}

.parking-space.private {
    border-style: dashed;
    border-width: 3px;
}

.parking-space.reserved {
    background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
    border: 2px solid #FF9800;
    color: #E65100;
}

.space-number {
    font-weight: 700;
    font-size: 1.1rem;
    margin-bottom: 4px;
}

.vehicle-info {
    text-align: center;
    font-size: 0.8rem;
}

.vehicle-plate {
    font-weight: 600;
    margin-top: 2px;
}

.time-occupied {
    font-size: 0.7rem;
    opacity: 0.8;
    margin-top: 2px;
}

.available-icon {
    font-size: 1.2rem;
    opacity: 0.6;
}

.space-type-indicator {
    position: absolute;
    top: 6px;
    right: 6px;
    font-size: 0.8rem;
    opacity: 0.7;
}

.activity-timeline {
    position: relative;
}

.activity-item {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 16px 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.activity-item:last-child {
    border-bottom: none;
}

.activity-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 0.9rem;
    flex-shrink: 0;
}

.activity-content {
    flex: 1;
}

.activity-header {
    display: flex;
    justify-content: between;
    align-items: center;
    margin-bottom: 4px;
}

.activity-body {
    color: #666;
    font-size: 0.9rem;
}

.notification-item {
    padding: 12px;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.02);
    margin-top: 12px;
}

/* Animaciones mejoradas */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.parking-space.occupied {
    animation: pulse 2s infinite;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.activity-item {
    animation: slideInRight 0.5s ease-out;
}

/* Responsive mejorado */
@media (max-width: 768px) {
    .parking-grid {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 12px;
        padding: 16px;
    }
    
    .parking-space {
        height: 70px;
    }
    
    .metric-badge {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
    }
}
</style>
{% endblock %}